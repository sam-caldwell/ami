## Diagnostic Codes and Data Keys (Generated)

Note: generated by tools/gen-diag-codes; best-effort from code literals.

- E_BLANK_IDENT_ILLEGAL: message sample = "blank identifier not allowed for function name"
- E_BLANK_PARAM_ILLEGAL: message sample = "blank identifier not allowed for parameter name"
- E_CALL_ARGS_MISMATCH_SUMMARY: message sample = "multiple call arguments mismatch"
- E_CALL_ARG_TYPE_MISMATCH: message sample = "call argument type mismatch: arg %d expected %s, got %s"
- E_CALL_ARITY_MISMATCH: message sample = "call arity mismatch"
- E_CALL_RESULT_MISMATCH: message sample = "return type mismatch from call"; data keys = actual, expected, expectedPos, function, index
- E_CAPABILITY_REQUIRED: message sample = "operation requires capability '"; data keys = cap, node, required
- E_CONCURRENCY_LIMITS_INVALID: message sample = "concurrency limit must be >=1 for key: "
- E_CONCURRENCY_LIMITS_KEY_UNKNOWN: message sample = "unknown concurrency limit key: "
- E_CONCURRENCY_SCHEDULE_INVALID: message sample = "invalid concurrency schedule"
- E_CONCURRENCY_WORKERS_INVALID: message sample = "concurrency workers must be >=1"
- E_DECORATOR_CONFLICT: message sample = "conflicting decorator arguments: "; data keys = function
- E_DECORATOR_DISABLED: message sample = "decorator disabled: "; data keys = function
- E_DECORATOR_ON_WORKER: message sample = "workers cannot be decorated"; data keys = function
- E_DECORATOR_SIGNATURE: message sample = "decorators must not change worker signature"
- E_DECORATOR_UNDEFINED: message sample = "decorator undefined: "; data keys = function
- E_DECORATOR_UNRESOLVED: message sample = "decorator name is empty"; data keys = function
- E_DUP_EGRESS: message sample = "duplicate egress"
- E_DUP_FUNC: message sample = "duplicate function name"
- E_DUP_PIPELINE: message sample = "duplicate pipeline name: "; data keys = previous
- E_EDGES_WITHOUT_EGRESS: message sample = "edges present but no 'egress' declared"
- E_EDGES_WITHOUT_INGRESS: message sample = "edges present but no 'ingress' declared"
- E_EDGE_BACKPRESSURE: message sample = "invalid backpressure policy"
- E_EDGE_CAPACITY_INVALID: message sample = "min must be non-negative"
- E_EDGE_CAPACITY_ORDER: message sample = "max must be >= min"
- E_EDGE_FROM_EGRESS: message sample = "edges cannot originate from 'egress'"
- E_EDGE_PARAM_UNKNOWN: message sample = "unknown edge parameter: "
- E_EDGE_PIPE_NAME_REQUIRED: message sample = "edge.Pipeline requires name=..."
- E_EDGE_PIPE_NOT_FOUND: message sample = "edge.Pipeline target not found: "
- E_EDGE_PIPE_TYPE_MISMATCH: message sample = "edge.Pipeline type mismatch"; data keys = target, want
- E_EDGE_TO_INGRESS: message sample = "edges cannot target 'ingress'"
- E_EDGE_UNDECLARED_FROM: message sample = "edge references undeclared node: "
- E_EDGE_UNDECLARED_TO: message sample = "edge references undeclared node: "
- E_ENUM_ASSIGN_INVALID: message sample = "invalid enum assignment: "; data keys = enum
- E_ENUM_MEMBER_BLANK: message sample = "enum member name cannot be blank"
- E_ENUM_MEMBER_DUP: message sample = "duplicate enum member: "
- E_ERRPIPE_END_EGRESS: message sample = "error pipeline must end with 'egress'"
- E_ERRPIPE_START_INVALID: message sample = "error pipeline cannot start with 'ingress'"
- E_EVENT_PTR_FORBIDDEN: message sample = "Event<T> must be pointer-free (no '&' or '*')"
- E_EVENT_TYPE_FLOW: message sample = "event type mismatch across edge"; data keys = from, fromType, node, to, toType, types
- E_FS_MISSING: message sample = "missing package root: %s"
- E_GENERIC_ARITY_MISMATCH: message sample = "generic type argument count mismatch"; data keys = actual, actualArity, base, expected, expectedArity, expectedPos, fieldPath, function, index, path, pathIdx
- E_GRAPH_CYCLE: message sample = "circular reference detected"; data keys = cycle, pipeline
- E_IMPORT_CONSTRAINT: message sample = "exact version "
- E_IMPORT_CONSTRAINT_MULTI: message sample = "conflicting exact versions for "
- E_IMPORT_CYCLE: message sample = "circular local import detected"; data keys = cycle
- E_IMPORT_LOCAL_MISSING: message sample = "local import path not found: "; data keys = import, package
- E_IMPORT_LOCAL_UNDECLARED: message sample = "local import not declared as package: "; data keys = import, package
- E_IMPORT_PATH_ABSOLUTE: message sample = "import path must not be absolute"
- E_IMPORT_PATH_EMPTY_SEGMENT: message sample = "import path contains empty segment"
- E_IMPORT_PATH_INVALID: message sample = "invalid import path"
- E_IMPORT_PATH_TRAILING_SLASH: message sample = "import path must not end with '/'"
- E_IMPORT_PATH_TRAVERSAL: message sample = "import path must not traverse"
- E_IMPORT_PRERELEASE_FORBIDDEN: message sample = "prerelease exact import used alongside non-prerelease constraints for "
- E_INTEGRITY: message sample = "dependency audit failed: %v"; data keys = key, kind, mismatched, missingInCache, missingInSum, parseErrors, sumFound, unsatisfied
- E_INTEGRITY_MANIFEST: message sample = "ami.manifest disagrees with ami.sum"; data keys = mani, sum
- E_INTEGRITY_SIGNATURE: message sample = "signature mismatch for %s"; data keys = expected, got
- E_IO_PERMISSION: message sample = "io.* operations only allowed in ingress/egress nodes"
- E_LINK_FAIL: message sample = "linking failed"
- E_LLVM_EMIT: data keys = env
- E_MAX_WARN_EXCEEDED: message sample = "warning budget exceeded"; data keys = maxWarn, warnings
- E_MERGE_ATTR_ARGS: message sample = "merge.Timeout: must be > 0"; data keys = argc, expected_max, expected_min, ms, policy
- E_MERGE_ATTR_CONFLICT: message sample = "merge.PartitionBy vs merge.Key conflict"; data keys = dedup, key, partition, prev, value
- E_MERGE_ATTR_REQUIRED: message sample = "merge.Sort: field is required"; data keys = attr
- E_MERGE_ATTR_TYPE: message sample = "merge.Watermark: lateness must be positive int or duration (e.g., 100ms,1s,2m,1h)"; data keys = capacity, lateness, ms, size
- E_MERGE_ATTR_UNKNOWN: message sample = "unknown merge attribute: "; data keys = name
- E_MERGE_DEDUP_FIELD_WITHOUT_KEY_UNDER_PARTITION: message sample = "merge.Dedup(field) under PartitionBy without Key may mis-deduplicate across partitions"; data keys = dedup, partitionBy
- E_MERGE_DEDUP_WITHOUT_KEY_UNDER_PARTITION: message sample = "merge.Dedup without key under PartitionBy may be ineffective"; data keys = partitionBy
- E_MERGE_FIELD_NAME_INVALID: message sample = "merge.Sort: invalid field name"; data keys = field
- E_MERGE_FIELD_ON_PRIMITIVE: message sample = "cannot reference field on Event<primitive> payload"
- E_MERGE_SORT_FIELD_UNKNOWN: message sample = "merge field not found in payload"; data keys = field
- E_MERGE_SORT_FIELD_UNORDERABLE: message sample = "merge field is not orderable"; data keys = field
- E_MERGE_SORT_ORDER_INVALID: message sample = "merge.Sort: order must be 'asc' or 'desc'"; data keys = order
- E_MERGE_SORT_PRIMARY_NEQ_KEY: message sample = "merge.Sort primary must equal merge.Key"; data keys = key, primary, sort
- E_MERGE_SORT_PRIMARY_NEQ_PARTITION: message sample = "merge.Sort primary must equal merge.PartitionBy when Key is not set"; data keys = partition, primary, sort
- E_MP_ONLY_COLLECT: message sample = "edge.MultiPath only valid on Collect nodes"; data keys = attr, step
- E_MUT_ASSIGN_UNMARKED: message sample = "assignment should use mutating marker: '* name = expr'"
- E_MUT_BLOCK_UNSUPPORTED: message sample = "unary '*' only allowed as LHS mutating marker '* ident = ...'"
- E_OBJ_COMPILE_FAIL: message sample = "failed to compile LLVM to object (runtime)"; data keys = env, what
- E_PACKAGE_NAME_INVALID: message sample = "invalid package name"
- E_PIPELINE_CANNOT_REACH_EGRESS: message sample = "node cannot reach egress: "
- E_PIPELINE_CYCLE: message sample = "circular reference detected in pipeline '"
- E_PIPELINE_END_EGRESS: message sample = "pipeline requires an 'egress'"
- E_PIPELINE_NODE_DISCONNECTED: message sample = "node has no incident edges: "
- E_PIPELINE_NO_PATH_INGRESS_EGRESS: message sample = "no path from ingress to egress"
- E_PIPELINE_SELF_EDGE: message sample = "self edge is not allowed: "
- E_PIPELINE_START_INGRESS: message sample = "pipeline requires at least one 'ingress'"
- E_PIPELINE_UNREACHABLE_FROM_INGRESS: message sample = "node not reachable from ingress: "
- E_PTR_UNSUPPORTED_SYNTAX: message sample = "address-of operator '&' is not allowed in AMI"
- E_RAII_ASSIGN_AFTER_TRANSFER: message sample = "assignment to variable after transfer: "
- E_RAII_DOUBLE_RELEASE: message sample = "variable released more than once"
- E_RAII_LEAK: message sample = "Owned variable not released or transferred: "
- E_RAII_RELEASE_AFTER_TRANSFER: message sample = "release after transfer: "
- E_RAII_RELEASE_UNOWNED: message sample = "release of undeclared variable"
- E_RAII_TRANSFER_UNOWNED: message sample = "transfer of unowned variable"
- E_RAII_USE_AFTER_RELEASE: message sample = "use after release: "
- E_RAII_USE_AFTER_TRANSFER: message sample = "use after transfer: "
- E_RETURN_TUPLE_MISMATCH_SUMMARY: message sample = "multiple return elements mismatch"
- E_RETURN_TYPE_MISMATCH: message sample = "inconsistent inferred return types"; data keys = actual, expected, expectedPos, function, index
- E_TRUST_VIOLATION: message sample = "operation not allowed under trust level 'untrusted'"; data keys = node, required, trust
- E_TYPE_AMBIGUOUS: message sample = "ambiguous slice literal: no type and no elements"
- E_TYPE_MISMATCH: message sample = "container element type mismatch: expected "
- E_TYPE_UNINFERRED: message sample = "unable to infer concrete return type(s)"
- E_UNKNOWN_NODE: message sample = "unknown node: "
- E_UNRESOLVED_IDENT: message sample = "unresolved identifier: "
- E_WORKER_UNDEFINED: message sample = "worker undefined: "
- E_WS_MISSING: message sample = "workspace not found"
- E_WS_PARSE: message sample = "invalid workspace: %v"
- E_WS_SCHEMA: message sample = "workspace validation failed: ami.workspace not found"; data keys = errors
- W_CAPABILITY_UNDECLARED: message sample = "io.* operations present; declare capability 'io' via #pragma capabilities"
- W_CAPABILITY_UNDECLARED_CAP: message sample = "sensitive operation present; declare capability '"; data keys = cap
- W_CONCURRENCY_LIMITS_UNSPECIFIED: message sample = "concurrency limits unspecified; consider #pragma concurrency:limits"
- W_CONCURRENCY_LIMIT_UNUSED: message sample = "concurrency limit set for unused kind: "; data keys = kind
- W_CONCURRENCY_SCHEDULE_IGNORED: message sample = "concurrency schedule likely ineffective with workers=1"; data keys = schedule, workers
- W_CONCURRENCY_SCHEDULE_UNSPECIFIED: message sample = "concurrency schedule unspecified; set via #pragma concurrency:schedule"
- W_DEPRECATED: message sample = "function is deprecated"; data keys = function, message
- W_DUP_FUNC_DECL: message sample = "duplicate function declaration: "; data keys = prevColumn, prevLine
- W_DUP_IMPORT_ALIAS: message sample = "duplicate import alias: "; data keys = prevColumn, prevLine
- W_EDGE_BP_LEGACY_DROP: message sample = "legacy 'drop' alias; use dropOldest/dropNewest"
- W_FIXME: message sample = "FIXME found in source"
- W_FORMAT_TAB_INDENT: message sample = "use spaces for indentation, not tabs"
- W_FORMAT_TRAILING_WS: message sample = "remove trailing whitespace"
- W_GO_SYNTAX_DETECTED: message sample = "file starts with 'package' — looks like Go syntax, not AMI"
- W_IDENT_UNDERSCORE: message sample = "identifier contains underscore; use camelCase or PascalCase"
- W_IMPORT_CONSTRAINT_INVALID: message sample = "invalid version constraint: "
- W_IMPORT_DUPLICATE: message sample = "duplicate import entry: "
- W_IMPORT_LOCAL_MISSING: message sample = "local import path not found: "
- W_IMPORT_LOCAL_UNDECLARED: message sample = "local import not declared as package: "
- W_IMPORT_ORDER: message sample = "imports not sorted"
- W_IMPORT_RELATIVE: message sample = "relative parent path not allowed: "
- W_IMPORT_SINGLE_VERSION: message sample = "no exact version pinned for "
- W_IMPORT_SYNTAX: message sample = "import entry has invalid characters"
- W_LANG_NOT_GO: message sample = ".go file detected in AMI source tree"
- W_MAP_EMPTY_HINT: message sample = "map literal is empty"
- W_MERGE_BUFFER_DROP_ALIAS: message sample = "merge.Buffer: ambiguous 'drop' alias; use dropOldest/dropNewest/block"; data keys = policy
- W_MERGE_DEDUP_FIELD_WITHOUT_KEY_UNDER_PARTITION: message sample = "merge.Dedup(field) under PartitionBy without Key may be ineffective"; data keys = dedup, partitionBy
- W_MERGE_DEDUP_WITHOUT_KEY: message sample = "merge.Dedup without field requires merge.Key"; data keys = dedup
- W_MERGE_DEDUP_WITHOUT_KEY_UNDER_PARTITION: message sample = "merge.Dedup without key under PartitionBy may be ineffective"; data keys = partitionBy
- W_MERGE_FIELD_UNVERIFIED: message sample = "merge field cannot be verified without upstream type information"
- W_MERGE_SORT_NO_FIELD: message sample = "merge.Sort requires a field"; data keys = attr
- W_MERGE_SORT_POSSIBLY_UNSTABLE: message sample = "merge.Sort without Key/Partition and Stable may be unstable"; data keys = fields
- W_MERGE_STABLE_REDUNDANT: message sample = "merge.Stable may be redundant when a unique Key is present"; data keys = key, sort
- W_MERGE_STABLE_WITHOUT_SORT: message sample = "merge.Stable has no effect without merge.Sort"; data keys = stable
- W_MERGE_TINY_BUFFER: message sample = "merge.Buffer: tiny capacity with dropping policy"; data keys = capacity, policy
- W_MERGE_WATERMARK_NONPOSITIVE: message sample = "merge.Watermark: lateness should be > 0"; data keys = lateness
- W_MERGE_WATERMARK_NOT_PRIMARY_SORT: message sample = "merge.Watermark field is not the primary merge.Sort field"; data keys = primary, sort, watermark
- W_MERGE_WINDOW_WITHOUT_WATERMARK: message sample = "merge.Window without Watermark may be based on processing time"; data keys = window
- W_MERGE_WINDOW_ZERO_OR_NEGATIVE: message sample = "merge.Window: size should be > 0"; data keys = size
- W_PARSE_TOLERANT: message sample = "parse error in Stage B lint: "
- W_PIPELINE_BUFFER_DROP_ALIAS: message sample = "ambiguous backpressure alias 'drop'; use dropOldest/dropNewest/block"
- W_PIPELINE_BUFFER_POLICY_SMELL: message sample = "buffer policy with capacity<=1 is likely ineffective"; data keys = capacity, policy
- W_PIPELINE_DISCONNECTED_NODE: message sample = "pipeline node has no incident edges"; data keys = node
- W_PIPELINE_DUP_EDGE: message sample = "duplicate edge: "
- W_PIPELINE_EGRESS_POS: message sample = "'egress' should be the last step in a pipeline"
- W_PIPELINE_INGRESS_POS: message sample = "'ingress' should be the first step in a pipeline"
- W_PIPELINE_NONTERMINATING_NODE: message sample = "pipeline node cannot reach egress"; data keys = node
- W_PIPELINE_NO_PATH_INGRESS_EGRESS: message sample = "no path from ingress to egress; pipeline may not terminate"
- W_PIPELINE_UNREACHABLE_NODE: message sample = "pipeline node appears unreachable from ingress"; data keys = node
- W_PKG_NAME_STYLE: message sample = "package name should be PascalCase, camelCase, or lowercase without underscores"
- W_PKG_VERSION_INVALID: message sample = "package version is not valid semver: "
- W_RAII_OWNED_HINT: message sample = "wrap release in mutate(release(x)) for explicit handoff"
- W_SET_EMPTY_HINT: message sample = "set literal is empty"
- W_SLICE_ARITY_HINT: message sample = "slice literal has a single element; verify intended arity"; data keys = count
- W_TODO: message sample = "TODO found in source"
- W_TRUST_UNSPECIFIED: message sample = "trust level unspecified; declare via #pragma trust level=trusted|untrusted"
- W_TRUST_UNTRUSTED_IO: message sample = "io.* under untrusted trust level; consider revising trust or removing I/O"
- W_UNKNOWN_IDENT: message sample = "unknown identifier detected (scaffold)"
- W_UNUSED_FUNC: message sample = "unused function: "
- W_UNUSED_IMPORT: message sample = "import not used: "
- W_UNUSED_VAR: message sample = "unused variable: "

Notes:
- message sample: example literal or fmt.Sprintf format; dynamic parts omitted.
- data keys: union of keys seen across code occurrences.
- path/pathIdx: generic base nesting and argument indices, outer→inner.
- fieldPath: struct field traversal (e.g., a→b).
- argIndex/tupleIndex: top-level call argument/return position. Summary 'paths' include these redundantly per entry.

Examples:

- E_GENERIC_ARITY_MISMATCH (return):
  Code: E_GENERIC_ARITY_MISMATCH
  Message: generic type argument count mismatch
  Data:
    function: "F"
    index: 0
    base: "Owned"
    path: ["slice", "Owned"]
    pathIdx: [0]
    fieldPath: ["a", "b"]
    expected: "Struct{a:Struct{b:slice<Owned<T>>}}"
    actual: "Struct{a:Struct{b:slice<Owned<int,string>>}}"
    expectedArity: 1
    actualArity: 2
    expectedPos: { line: 3, column: 16, offset: 42 }

- E_RETURN_TUPLE_MISMATCH_SUMMARY:
  Code: E_RETURN_TUPLE_MISMATCH_SUMMARY
  Message: multiple return elements mismatch
  Data:
    function: "F"
    count: 2
    indices: [0, 1]
    paths:
      - index: 0, tupleIndex: 0, base: "Owned", path: ["slice", "Owned"], pathIdx: [0], fieldPath: ["a", "b"], expectedPos: { line: 3, column: 16, offset: 42 }
      - index: 1, tupleIndex: 1, base: "Error", path: ["Error"], pathIdx: [], expectedPos: { line: 3, column: 27, offset: 64 }

- E_CALL_ARGS_MISMATCH_SUMMARY:
  Code: E_CALL_ARGS_MISMATCH_SUMMARY
  Message: multiple call arguments mismatch
  Data:
    callee: "Callee"
    count: 2
    indices: [0, 1]
    paths:
      - argIndex: 0, paramName: "a", base: "Owned", path: ["slice", "Owned"], pathIdx: [0], fieldPath: ["a"], expectedPos: { line: 2, column: 16, offset: 26 }
      - argIndex: 1, paramName: "b", base: "Error", path: ["Error"], pathIdx: [], expectedPos: { line: 2, column: 23, offset: 33 }
